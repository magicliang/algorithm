# 矩阵翻转算法详解

## 概述
本文档详细解释矩阵翻转操作中的核心概念，包括点的镜像关系和对角线判断方法。

## 1. 点的镜像关系快速判断

### 1.1 主对角线翻转（转置）
**规则：** 沿主对角线（从左上到右下）翻转时，点 `(i, j)` 的镜像点是 `(j, i)`

```
原矩阵坐标系：     翻转后：
(0,0) (0,1) (0,2)   (0,0) (1,0) (2,0)
(1,0) (1,1) (1,2) → (0,1) (1,1) (2,1)
(2,0) (2,1) (2,2)   (0,2) (1,2) (2,2)
```

**快速记忆：** 行列坐标互换

### 1.2 副对角线翻转
**规则：** 沿副对角线（从右上到左下）翻转时，点 `(i, j)` 的镜像点是 `(n-1-j, n-1-i)`

```
原矩阵坐标系：     翻转后：
(0,0) (0,1) (0,2)   (2,2) (1,2) (0,2)
(1,0) (1,1) (1,2) → (2,1) (1,1) (0,1)
(2,0) (2,1) (2,2)   (2,0) (1,0) (0,0)
```

**快速记忆：** 行列坐标都用 `n-1` 减去原坐标，然后互换

### 1.3 水平翻转（左右镜像）
**规则：** 水平翻转时，点 `(i, j)` 的镜像点是 `(i, n-1-j)`

```
原矩阵：          翻转后：
(0,0) (0,1) (0,2)   (0,2) (0,1) (0,0)
(1,0) (1,1) (1,2) → (1,2) (1,1) (1,0)
(2,0) (2,1) (2,2)   (2,2) (2,1) (2,0)
```

**快速记忆：** 行坐标不变，列坐标用 `n-1` 减去原列坐标

### 1.4 垂直翻转（上下镜像）
**规则：** 垂直翻转时，点 `(i, j)` 的镜像点是 `(n-1-i, j)`

```
原矩阵：          翻转后：
(0,0) (0,1) (0,2)   (2,0) (2,1) (2,2)
(1,0) (1,1) (1,2) → (1,0) (1,1) (1,2)
(2,0) (2,1) (2,2)   (0,0) (0,1) (0,2)
```

**快速记忆：** 列坐标不变，行坐标用 `n-1` 减去原行坐标

## 2. 对角线关系判断

### 2.1 主对角线判断
**主对角线：** 从左上角 `(0,0)` 到右下角 `(n-1,n-1)` 的直线

**判断条件：** 两个点 `(i1, j1)` 和 `(i2, j2)` 在同一条主对角线上，当且仅当：
```
i1 - j1 = i2 - j2
```

**示例：**
- 点 `(0,0)`, `(1,1)`, `(2,2)` 在主对角线上：`0-0 = 1-1 = 2-2 = 0`
- 点 `(0,1)`, `(1,2)` 在同一条平行于主对角线的直线上：`0-1 = 1-2 = -1`

### 2.2 副对角线判断
**副对角线：** 从右上角 `(0,n-1)` 到左下角 `(n-1,0)` 的直线

**判断条件：** 两个点 `(i1, j1)` 和 `(i2, j2)` 在同一条副对角线上，当且仅当：
```
i1 + j1 = i2 + j2
```

**示例：**
- 点 `(0,2)`, `(1,1)`, `(2,0)` 在副对角线上：`0+2 = 1+1 = 2+0 = 2`
- 点 `(0,1)`, `(1,0)` 在同一条平行于副对角线的直线上：`0+1 = 1+0 = 1`

### 2.3 对角线关系的几何理解

```
3×3矩阵的对角线分布：

主对角线族（i-j = 常数）：
  \  \  \
   \  \  \
    \  \  \

副对角线族（i+j = 常数）：
    /  /  /
   /  /  /
  /  /  /
```

## 3. 实际应用示例

### 3.1 顺时针旋转90度的变换
```
原位置 (i,j) → 主对角线翻转 → (j,i) → 水平翻转 → (j, n-1-i)
```

**验证：** 对于3×3矩阵，点 `(0,1)` 经过顺时针旋转90度：
- 原位置：`(0,1)`
- 主对角线翻转：`(1,0)`
- 水平翻转：`(1, 3-1-0) = (1,2)`
- 结果：`(0,1) → (1,2)` ✓

### 3.2 逆时针旋转90度的变换
```
原位置 (i,j) → 副对角线翻转 → (n-1-j, n-1-i) → 水平翻转 → (n-1-j, i)
```

**验证：** 对于3×3矩阵，点 `(0,1)` 经过逆时针旋转90度：
- 原位置：`(0,1)`
- 副对角线翻转：`(3-1-1, 3-1-0) = (1,2)`
- 水平翻转：`(1, 3-1-2) = (1,0)`
- 结果：`(0,1) → (1,0)` ✓

## 4. 快速记忆口诀

### 镜像点判断：
- **主对角线翻转**：行列互换 `(i,j) → (j,i)`
- **副对角线翻转**：行列都补，再互换 `(i,j) → (n-1-j, n-1-i)`
- **水平翻转**：行不变，列补 `(i,j) → (i, n-1-j)`
- **垂直翻转**：列不变，行补 `(i,j) → (n-1-i, j)`

### 对角线判断：
- **主对角线族**：行减列相等 `i-j = 常数`
- **副对角线族**：行加列相等 `i+j = 常数`

## 5. 编程实现技巧

### 避免重复交换
在实现翻转时，要注意只遍历需要交换的部分：

```java
// 主对角线翻转：只遍历上三角
for (int i = 0; i < n; i++) {
    for (int j = i + 1; j < n; j++) {
        // 交换 matrix[i][j] 和 matrix[j][i]
    }
}

// 副对角线翻转：只遍历副对角线上方
for (int i = 0; i < n; i++) {
    for (int j = 0; j < n - 1 - i; j++) {
        // 交换 matrix[i][j] 和 matrix[n-1-j][n-1-i]
    }
}
```

这样可以确保每对元素只被交换一次，避免交换两次导致回到原位置的问题。